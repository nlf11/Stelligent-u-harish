AWSTemplateFormatVersion: 2010-09-09
Description: 'Creation of VPC '
Resources:
  HarishVpc:
    Type: 'AWS::EC2::VPC'
    Properties:
      CidrBlock: !Ref VpcCIDR
      EnableDnsHostnames: true
      EnableDnsSupport: true
      Tags:
        - Key: user
          Value: harish.clabs
        - Key: stelligent-u-lesson
          Value: 4
        - Key: stelligent-u-lab
          Value: 4.1.1
  VpcSubnet1:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId: !Ref Vpc
      CidrBlock: 10.1.1.0/24
      AvailabilityZone: us-east-1a
  VpcSubnet2:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId: !Ref Vpc
      CidrBlock: 10.1.2.0/24
      AvailabilityZone: us-east-1b
Outputs:
  myvpcid:
    Description: vpcid referrring
    Value: !Ref Vpc
  Subnetid:
    Description: subnet of 1stAz
    Value: !Ref VpcSubnet1
